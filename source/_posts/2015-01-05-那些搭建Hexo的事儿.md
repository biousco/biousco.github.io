title: 那些搭建Hexo的事儿~
date: 2015-01-05 07:41:41
categories: 知识积累
tags: [Hexo,Github]
description: Hexo应该怎么调教。
---
### Hexo优化
修改原生内置的谷歌字体和jquery：
由于某些众所周知的原因，`ajax.googleapis.com`和`fonts.googleapis.com`不能访问，导致加载博客会非常慢（观察浏览器的请求链接可以发现），所以都要替换掉。
字体文件位于：`hexo/themes/modernist/source/css_base/variable.styl`,修改下面这句：

    https://fonts.googleapis.com/css?family=Droid+Serif:400italic,700italic,400,700
把`googleapis`换成`useso`。

jquery文件位于：` hexo/themes/~/layout/_partial/after_footer.ejs`,修改下面这句：

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
    
换成国内的CDN：

    <script src="//lib.sinaapp.com/js/jquery/1.8.3/jquery.min.js"></script>
不过我当时好像是用百度提供的。

### 主题与插件
这个其实没啥好说的~有很详细的中文/英文文档，一步步做下来都能成功。不过目前没太多精力去优化了。嗯，等我考完试再说。

### GitHub和Gitcafe
会想用到Gitcafe是因为第一次部署好后发现访问很慢，所以想迁移到国内服务比较好的Gitcafe（其实感觉差不多，因为之前没有做上面的优化=。=）。不过用一个新的Git花了不少时间。

* 注册帐号，注意密码
* 新建的项目要和用户名一样，项目的设置中发现教程里有默认分支可以设置为page服务，但是实际操作发现没有。查看了文档才发现是要自己创建一个gitcafe-page分支。
* 按照教程创建新的SSH密钥。因为在linux系统中我找不到那个文文件夹在哪里（我跪了），所以用命令行的方式来打开，然后发现我不知道命令=。= 
 `gedit gitcafe.pub`好像是这样哈哈，可以用图形画的界面打开来复制粘贴了（心好累）不过也可以用`vi gitcafe.pub`，上课学到的。然后balabala全部设置好后就可以用Gitcafe的服务了。
* GitCafe常用命令：
    `$ git status` 查看状态
    `$ git commit -m “commit message”` 提交最后一次修改
    `$ git push <remote> <branch>` 上传代码
好吧我目前就用到这么多=。= 把要提交的文件全部丢到那个仓库里面，然后执行commit和push就好了。记得要用gitcafe-page的分支`$ git checkout -b gitcafe-pages`
* 然后登陆`***.gitcafe.io`就可以看了。

### Hexo部署
刚开始太年轻，以为只要一个`$ hexo d`就可以部署了。弄了好几遍发现还是原来的页面。百度后才知道要先`$ hexo generate`，生成静态页面，再放上服务器。
放上服务器后问题又来了，页面的CSS简直崩掉。又百度了一下（其实在linux下我都是用bing的），要先把`hexo/public/css/`下的style.css删除，再generate一下，才能正确生成静态页面。不知道这是不是bug=。=
